<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Configuración del encabezado, incluyendo el título y enlaces a hojas de estilo -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>

    <!-- CSS: Bootstrap 5.3.2 & FontAwsome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/css/bootstrap.min.css" integrity="sha512-b2QcS5SsA8tZodcDtGRELiGv5SaKSk1vDHDaQRda0htPYWZ6046lr3kJ5bAAQdpV2mmA/4v0wQF9MyU6/pDIAg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body style="background-color: #000000; color: #ffffff;">
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <!-- Logo en la barra de navegación -->
            <a class="navbar-brand" href="#">
                <img src="https://killarx99.github.io/img/Logo.png" alt="Logo" height="50" class="d-inline-block align-top">
            </a>
            <!-- Botón de alternancia para dispositivos pequeños -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#my-nav" aria-controls="my-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Enlaces de navegación -->
            <div id="my-nav" class="navbar-collapse collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="/"><i class="fas fa-database me-1"></i>Base de datos</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="/agregar"><i class="fas fa-plus-square me-1"></i>Agregar Programa</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="/info"><i class="fas fa-university me-1"></i>Acerca de nosotros</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <div class="container">
        <div class="row justify-content-center mt-4">
            <div class="col-lg-8">
                <!-- Tarjeta para editar un programa existente -->
                <div class="card shadow-none border-0">
                    <!-- Encabezado de la tarjeta con un botón para regresar -->
                    <div class="card-header bg-custom text-light d-flex justify-content-between align-items-center" style="background-color: #212529; color: #ffffff;">
                        <h3 class="text-center">Editar programa (<%= program.name %>)</h3>
                        <a href="/" class="btn btn-danger" style="width: 2em; height: 2em; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-times"></i>
                        </a>
                    </div>
                    <!-- Cuerpo de la tarjeta con el formulario para editar programa -->
                    <div class="card-body bg-custom text-light" style="background-color: #323539; color: #ffffff;">
                        <form action="/actualizar/<%= program._id %>" method="post" id="add-form" enctype="multipart/form-data">
                            <!-- Campos del formulario con valores predeterminados -->
                            <div class="mb-3">
                                <label for="name" class="form-label">Nombre</label>
                                <input type="text" name="name" class="form-control" placeholder="Nombre del programa" value="<%= program.name %>" required />
                            </div>
                            <div class="mb-3">
                                <label for="description" class="form-label">Descripción</label>
                                <input type="text" name="description" class="form-control" placeholder="Descripción del programa" value="<%= program.description %>" required />
                            </div>
                            <div class="mb-3">
                                <label for="price" class="form-label">Precio</label>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <input type="tel" name="price" class="form-control" placeholder="Precio del programa" value="<%= program.price %>" required />
                                </div>
                            </div>
                            <label for="image" class="form-label">Imagen</label>
                            <div class="mb-3 d-flex align-items-center">
                                <input class="form-control me-2" type="file" name="image"/>
                                <!-- Muestra la imagen actual con un enlace a la misma -->
                                <img src="/<%= program.image %>" width="50" class="img-fluid" alt="Responsive image" />
                            </div>
                            <!-- Campo oculto para almacenar el nombre de la imagen actual -->
                            <input type="hidden" name="old_image" value="<%= program.image %>" />
                            <br>
                            <!-- Botón para enviar el formulario -->
                            <div class="mb-3 d-grid">
                                <button type="submit" name="submit" value="Update Program" class="btn btn-info btn-lg text-white">Actualizar programa</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts: Bootstrap 5.3.2 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.bundle.min.js" integrity="sha512-B4q28HljTYY6h5XJpVXWTZv+3U+Sr8FdTF4TZJo0+8riEWhHQPWTDDTgQTK+YwxWWZpA/oL3QtMYhB0xCmssQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>

